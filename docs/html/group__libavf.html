<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KuGouApp: libavformat</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="windowIcon.ico"/></td>
  <td id="projectalign">
   <div id="projectname">KuGouApp<span id="projectnumber">&#160;beta 0.01</span>
   </div>
   <div id="projectbrief">KuGouDocs build by doxygen</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__libavf.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">专题</a> &#124;
<a href="#files">文件</a>  </div>
  <div class="headertitle"><div class="title">libavformat</div></div>
</div><!--header-->
<div class="contents">

<p>I/O and Muxing/Demuxing Library  
<a href="#details">更多...</a></p>
<div class="dynheader">
libavformat 的协作图:</div>
<div class="dyncontent">
<div class="center"><img src="group__libavf.png" border="0" usemap="#agroup____libavf" alt=""/></div>
<map name="agroup____libavf" id="agroup____libavf">
<area shape="rect" href="group__lavf__codec.html" title=" " alt="" coords="168,5,250,32"/>
<area shape="rect" href="group__lavf__core.html" title="Functions for querying libavformat capabilities, allocating core structures, etc." alt="" coords="156,56,262,83"/>
<area shape="rect" href="group__lavf__decoding.html" title="Demuxers read a media file and split it into chunks of data (packets)." alt="" coords="169,107,249,133"/>
<area shape="rect" href="group__lavf__encoding.html" title="Muxers take encoded data in the form of AVPackets and write it into files or other output bytestreams..." alt="" coords="177,157,240,184"/>
<area shape="rect" href="group__lavf__internal.html" title=" " alt="" coords="177,208,241,235"/>
<area shape="rect" href="group__lavf__io.html" title=" " alt="" coords="155,259,263,285"/>
<area shape="rect" href="group__lavf__misc.html" title="Miscellaneous utility functions related to both muxing and demuxing (or neither)." alt="" coords="153,309,265,336"/>
<area shape="rect" href="group__lavf__protos.html" title=" " alt="" coords="160,360,258,387"/>
<area shape="rect" title="I/O and Muxing/Demuxing Library" alt="" coords="5,208,91,235"/>
<area shape="rect" href="group__metadata__api.html" title="The metadata API allows libavformat to export metadata tags to a client application when demuxing." alt="" coords="139,411,279,437"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
专题</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavf__decoding.html">Demuxing</a></td></tr>
<tr class="memdesc:group__lavf__decoding"><td class="mdescLeft">&#160;</td><td class="mdescRight">Demuxers read a media file and split it into chunks of data (<em>packets</em>). <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavf__encoding.html">Muxing</a></td></tr>
<tr class="memdesc:group__lavf__encoding"><td class="mdescLeft">&#160;</td><td class="mdescRight">Muxers take encoded data in the form of <a class="el" href="struct_a_v_packet.html">AVPackets</a> and write it into files or other output bytestreams in the specified container format. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavf__io.html">I/O Read/Write</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavf__codec.html">Demuxers</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavf__protos.html">I/O Protocols</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavf__internal.html">Internal</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__metadata__api.html">Public Metadata API</a></td></tr>
<tr class="memdesc:group__metadata__api"><td class="mdescLeft">&#160;</td><td class="mdescRight">The metadata API allows libavformat to export metadata tags to a client application when demuxing. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavf__core.html">Core functions</a></td></tr>
<tr class="memdesc:group__lavf__core"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions for querying libavformat capabilities, allocating core structures, etc. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lavf__misc.html">Utility functions</a></td></tr>
<tr class="memdesc:group__lavf__misc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Miscellaneous utility functions related to both muxing and demuxing (or neither). <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
文件</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">文件 &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avformat_8h.html">avformat.h</a></td></tr>
<tr class="memdesc:avformat_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main libavformat public API header <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">文件 &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_2ffmpeg_2win64_2include_2libavformat_2version_8h.html">version.h</a></td></tr>
<tr class="memdesc:tools_2ffmpeg_2win64_2include_2libavformat_2version_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Libavformat version macros <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<p>I/O and Muxing/Demuxing Library </p>
<p>Libavformat (lavf) is a library for dealing with various media container formats. Its main two purposes are demuxing - i.e. splitting a media file into component streams, and the reverse process of muxing - writing supplied data in a specified container format. It also has an <a class="el" href="group__lavf__io.html">I/O module</a> which supports a number of protocols for accessing the data (e.g. file, tcp, http and others). Before using lavf, you need to call av_register_all() to register all compiled muxers, demuxers and protocols. Unless you are absolutely sure you won't use libavformat's network capabilities, you should also call <a class="el" href="group__lavf__core.html#ga84542023693d61e8564c5d457979c932" title="Do global initialization of network libraries.">avformat_network_init()</a>.</p>
<p>A supported input format is described by an <a class="el" href="struct_a_v_input_format.html">AVInputFormat</a> struct, conversely an output format is described by <a class="el" href="struct_a_v_output_format.html">AVOutputFormat</a>. You can iterate over all registered input/output formats using the av_iformat_next() / av_oformat_next() functions. The protocols layer is not part of the public API, so you can only get the names of supported protocols with the <a class="el" href="avio_8h.html#a8650292e381eb84d0c232fe50d217ef5" title="Iterate through names of available protocols.">avio_enum_protocols()</a> function.</p>
<p>Main lavf structure used for both muxing and demuxing is <a class="el" href="struct_a_v_format_context.html" title="Format I/O context.">AVFormatContext</a>, which exports all information about the file being read or written. As with most Libavformat structures, its size is not part of public ABI, so it cannot be allocated on stack or directly with <a class="el" href="group__lavu__mem__funcs.html#gaba88a97429de6874c1a0b64381034b98" title="Allocate a memory block with alignment suitable for all memory accesses (including vectors if availab...">av_malloc()</a>. To create an <a class="el" href="struct_a_v_format_context.html" title="Format I/O context.">AVFormatContext</a>, use <a class="el" href="group__lavf__core.html#gab000638c284e97ad0be2bdb11ce33c36" title="Allocate an AVFormatContext.">avformat_alloc_context()</a> (some functions, like <a class="el" href="group__lavf__decoding.html#ga31d601155e9035d5b0e7efedc894ee49" title="Open an input stream and read the header.">avformat_open_input()</a> might do that for you).</p>
<p>Most importantly an <a class="el" href="struct_a_v_format_context.html" title="Format I/O context.">AVFormatContext</a> contains: </p><ul>
<li>the <a class="el" href="struct_a_v_format_context.html#a173d9a36a5dc2cddc23dfe726fe7f4b3">input</a> or <a class="el" href="struct_a_v_format_context.html#ac6f148f713bf4cc7c8c114768255f707">output</a> format. It is either autodetected or set by user for input; always set by user for output. </li>
<li>an <a class="el" href="struct_a_v_format_context.html#a8fcb29af273ebfebd07d9cbaab27da66">array</a> of AVStreams, which describe all elementary streams stored in the file. AVStreams are typically referred to using their index in this array. </li>
<li>an <a class="el" href="struct_a_v_format_context.html#a0dd1baee28077e69224621effebe8a9c">I/O context</a>. It is either opened by lavf or set by user for input, always set by user for output (unless you are dealing with an AVFMT_NOFILE format).</li>
</ul>
<h1><a class="anchor" id="lavf_options"></a>
Passing options to (de)muxers</h1>
<p>It is possible to configure lavf muxers and demuxers using the <a class="el" href="group__avoptions.html">AVOptions</a> mechanism. Generic (format-independent) libavformat options are provided by <a class="el" href="struct_a_v_format_context.html" title="Format I/O context.">AVFormatContext</a>, they can be examined from a user program by calling <a class="el" href="group__avoptions.html#gafbe418a443aa11838ac10318df5d96f7" title="Iterate over all AVOptions belonging to obj.">av_opt_next()</a> / <a class="el" href="group__avoptions.html#ga9ad3a0b722a9815f15e3df512290d618" title="Look for an option in an object.">av_opt_find()</a> on an allocated <a class="el" href="struct_a_v_format_context.html" title="Format I/O context.">AVFormatContext</a> (or its <a class="el" href="struct_a_v_class.html" title="Describe the class of an AVClass context structure.">AVClass</a> from <a class="el" href="group__lavf__core.html#gaee1ff1d03f39701790ce034febf7a3b6" title="Get the AVClass for AVFormatContext.">avformat_get_class()</a>). Private (format-specific) options are provided by <a class="el" href="struct_a_v_format_context.html#a33e7865dc6cf5cbd56a8f1a654e306a5" title="Format private data.">AVFormatContext.priv_data</a> if and only if <a class="el" href="struct_a_v_input_format.html#aaf54ff585b8e38923f4afd0d7adb7c15" title="AVClass for the private context">AVInputFormat.priv_class</a> / <a class="el" href="struct_a_v_output_format.html#aaf54ff585b8e38923f4afd0d7adb7c15" title="AVClass for the private context">AVOutputFormat.priv_class</a> of the corresponding format struct is non-NULL. Further options may be provided by the <a class="el" href="struct_a_v_format_context.html#a0dd1baee28077e69224621effebe8a9c">I/O context</a>, if its <a class="el" href="struct_a_v_class.html" title="Describe the class of an AVClass context structure.">AVClass</a> is non-NULL, and the protocols layer. See the discussion on nesting in <a class="el" href="group__avoptions.html">AVOptions</a> documentation to learn how to access those.</p>
<h1><a class="anchor" id="urls"></a>
urls</h1>
<p>URL strings in libavformat are made of a scheme/protocol, a ':', and a scheme specific string. URLs without a scheme and ':' used for local files are supported but deprecated. "file:" should be used for local files.</p>
<p>It is important that the scheme string is not taken from untrusted sources without checks.</p>
<p>Note that some schemes/protocols are quite powerful, allowing access to both local and remote files, parts of them, concatenations of them, local audio and video devices and so on. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
