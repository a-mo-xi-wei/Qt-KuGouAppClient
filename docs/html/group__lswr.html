<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KuGouApp: libswresample</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="windowIcon.ico"/></td>
  <td id="projectalign">
   <div id="projectname">KuGouApp<span id="projectnumber">&#160;beta 0.01</span>
   </div>
   <div id="projectbrief">KuGouDocs build by doxygen</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__lswr.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">文件</a> &#124;
<a href="#typedef-members">类型定义</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle"><div class="title">libswresample</div></div>
</div><!--header-->
<div class="contents">

<p>Audio resampling, sample format conversion and mixing library.  
<a href="#details">更多...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
文件</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">文件 &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swresample_8h.html">swresample.h</a></td></tr>
<tr class="memdesc:swresample_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">libswresample public header <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
类型定义</h2></td></tr>
<tr class="memitem:ga4aa775b7fba31d2c8dc14c7b7e282863" id="r_ga4aa775b7fba31d2c8dc14c7b7e282863"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a></td></tr>
<tr class="memdesc:ga4aa775b7fba31d2c8dc14c7b7e282863"><td class="mdescLeft">&#160;</td><td class="mdescRight">The libswresample context.  <br /></td></tr>
<tr class="separator:ga4aa775b7fba31d2c8dc14c7b7e282863"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:gaabeac14d6aa684de193c65b6e34c4901" id="r_gaabeac14d6aa684de193c65b6e34c4901"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_a_v_class.html">AVClass</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaabeac14d6aa684de193c65b6e34c4901">swr_get_class</a> (<a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a>)</td></tr>
<tr class="memdesc:gaabeac14d6aa684de193c65b6e34c4901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="struct_a_v_class.html" title="Describe the class of an AVClass context structure.">AVClass</a> for <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a>.  <br /></td></tr>
<tr class="separator:gaabeac14d6aa684de193c65b6e34c4901"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Option constants</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>These constants are used for the <a class="el" href="group__avoptions.html">AVOptions</a> interface for lswr. </p>
</td></tr>
<tr class="memitem:ga387e613b19e5269a46d9ff1a5ee3fcd4" id="r_ga387e613b19e5269a46d9ff1a5ee3fcd4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga387e613b19e5269a46d9ff1a5ee3fcd4">SwrDitherType</a> { <br />
&#160;&#160;<a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4afacc17a82581598f762a8036ba559836">SWR_DITHER_NONE</a> = 0
, <a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4a0fec2dd28b1357b50e9807ca6ecee83a">SWR_DITHER_RECTANGULAR</a>
, <a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4ae4635dc355dc680eeb211e7af17ddfd2">SWR_DITHER_TRIANGULAR</a>
, <a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4a91276f2e437aa9d0d8bdffabe24f5532">SWR_DITHER_TRIANGULAR_HIGHPASS</a>
, <br />
&#160;&#160;<a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4ae6858a54f5b2e1bffa9aaef20b2593c0">SWR_DITHER_NS</a> = 64
, <a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4a6f6072071262f7f05a52057cfe48df87">SWR_DITHER_NS_LIPSHITZ</a>
, <a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4ae197d7fc5592652aaa8edf1067c56af9">SWR_DITHER_NS_F_WEIGHTED</a>
, <a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4a60eeb8ca5de47916a81f2c3a6534eed4">SWR_DITHER_NS_MODIFIED_E_WEIGHTED</a>
, <br />
&#160;&#160;<a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4ad13d2ff2831d463eb46ca4c46dfec7b0">SWR_DITHER_NS_IMPROVED_E_WEIGHTED</a>
, <a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4ae3aba4bf43c2210a148b11c0215b5d24">SWR_DITHER_NS_SHIBATA</a>
, <a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4af275c21089abbf78a6623544f34d76f9">SWR_DITHER_NS_LOW_SHIBATA</a>
, <a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4ac569828a706ccf22a8d5810c973c8f17">SWR_DITHER_NS_HIGH_SHIBATA</a>
, <br />
&#160;&#160;<a class="el" href="#gga387e613b19e5269a46d9ff1a5ee3fcd4aacbdf2f91bb14cf390116492115fb8ea">SWR_DITHER_NB</a>
<br />
 }</td></tr>
<tr class="memdesc:ga387e613b19e5269a46d9ff1a5ee3fcd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dithering algorithms  <a href="#ga387e613b19e5269a46d9ff1a5ee3fcd4">更多...</a><br /></td></tr>
<tr class="separator:ga387e613b19e5269a46d9ff1a5ee3fcd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87f9e023bbe780d3ccf17dfc7abed580" id="r_ga87f9e023bbe780d3ccf17dfc7abed580"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga87f9e023bbe780d3ccf17dfc7abed580">SwrEngine</a> { <a class="el" href="#gga87f9e023bbe780d3ccf17dfc7abed580a11652db5af0c279d79deba1c577c9729">SWR_ENGINE_SWR</a>
, <a class="el" href="#gga87f9e023bbe780d3ccf17dfc7abed580a2933f5b0b96829095a04a8acd19b27e7">SWR_ENGINE_SOXR</a>
, <a class="el" href="#gga87f9e023bbe780d3ccf17dfc7abed580a865af2e70ebb85b3cafb93f1854dbef9">SWR_ENGINE_NB</a>
 }</td></tr>
<tr class="memdesc:ga87f9e023bbe780d3ccf17dfc7abed580"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resampling Engines  <a href="#ga87f9e023bbe780d3ccf17dfc7abed580">更多...</a><br /></td></tr>
<tr class="separator:ga87f9e023bbe780d3ccf17dfc7abed580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2176b2a3a8b809788f6e7ccdc238b6be" id="r_ga2176b2a3a8b809788f6e7ccdc238b6be"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2176b2a3a8b809788f6e7ccdc238b6be">SwrFilterType</a> { <a class="el" href="#gga2176b2a3a8b809788f6e7ccdc238b6bea1a6413b9888bac851e2ee4f991f01d0c">SWR_FILTER_TYPE_CUBIC</a>
, <a class="el" href="#gga2176b2a3a8b809788f6e7ccdc238b6bea17f5dd4512b4abc2285905293a81cf55">SWR_FILTER_TYPE_BLACKMAN_NUTTALL</a>
, <a class="el" href="#gga2176b2a3a8b809788f6e7ccdc238b6bea8f492a5dc94b6e41a37f190c5492bf3f">SWR_FILTER_TYPE_KAISER</a>
 }</td></tr>
<tr class="memdesc:ga2176b2a3a8b809788f6e7ccdc238b6be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resampling Filter Types  <a href="#ga2176b2a3a8b809788f6e7ccdc238b6be">更多...</a><br /></td></tr>
<tr class="separator:ga2176b2a3a8b809788f6e7ccdc238b6be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2226aca7f49137f3f29b6f731a985916" id="r_ga2226aca7f49137f3f29b6f731a985916"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2226aca7f49137f3f29b6f731a985916">SWR_FLAG_RESAMPLE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga2226aca7f49137f3f29b6f731a985916"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force resampling even if equal sample rate  <br /></td></tr>
<tr class="separator:ga2226aca7f49137f3f29b6f731a985916"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">SwrContext constructor functions</h2></td></tr>
<tr class="memitem:ga17283a2547f79f4013ba32820ec86ca8" id="r_ga17283a2547f79f4013ba32820ec86ca8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga17283a2547f79f4013ba32820ec86ca8">swr_alloc</a> (<a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a>)</td></tr>
<tr class="memdesc:ga17283a2547f79f4013ba32820ec86ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a>.  <br /></td></tr>
<tr class="separator:ga17283a2547f79f4013ba32820ec86ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae173e8ed91717700471a1dcd06f00f67" id="r_gae173e8ed91717700471a1dcd06f00f67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae173e8ed91717700471a1dcd06f00f67">swr_init</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>)</td></tr>
<tr class="memdesc:gae173e8ed91717700471a1dcd06f00f67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize context after user parameters have been set.  <br /></td></tr>
<tr class="separator:gae173e8ed91717700471a1dcd06f00f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab11b02705e97404b6d74b18b2fcfdfcf" id="r_gab11b02705e97404b6d74b18b2fcfdfcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab11b02705e97404b6d74b18b2fcfdfcf">swr_is_initialized</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>)</td></tr>
<tr class="memdesc:gab11b02705e97404b6d74b18b2fcfdfcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether an swr context has been initialized or not.  <br /></td></tr>
<tr class="separator:gab11b02705e97404b6d74b18b2fcfdfcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89f749e85aa01c31fc7a900f606bfe21" id="r_ga89f749e85aa01c31fc7a900f606bfe21"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga89f749e85aa01c31fc7a900f606bfe21">swr_alloc_set_opts</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>, <a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a> out_ch_layout, enum <a class="el" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> out_sample_fmt, int out_sample_rate, <a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a> in_ch_layout, enum <a class="el" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> in_sample_fmt, int in_sample_rate, int log_offset, <a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a> *log_ctx)</td></tr>
<tr class="memdesc:ga89f749e85aa01c31fc7a900f606bfe21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a> if needed and set/reset common parameters.  <br /></td></tr>
<tr class="separator:ga89f749e85aa01c31fc7a900f606bfe21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">SwrContext destructor functions</h2></td></tr>
<tr class="memitem:ga818f7d78b1ad7d8d5b70de374b668c34" id="r_ga818f7d78b1ad7d8d5b70de374b668c34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga818f7d78b1ad7d8d5b70de374b668c34">swr_free</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> **<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>)</td></tr>
<tr class="memdesc:ga818f7d78b1ad7d8d5b70de374b668c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the given <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a> and set the pointer to NULL.  <br /></td></tr>
<tr class="separator:ga818f7d78b1ad7d8d5b70de374b668c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4bf1048740dfc08d68aba9f1b4db22e" id="r_gaa4bf1048740dfc08d68aba9f1b4db22e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa4bf1048740dfc08d68aba9f1b4db22e">swr_close</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>)</td></tr>
<tr class="memdesc:gaa4bf1048740dfc08d68aba9f1b4db22e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the context so that <a class="el" href="#gab11b02705e97404b6d74b18b2fcfdfcf" title="Check whether an swr context has been initialized or not.">swr_is_initialized()</a> returns 0.  <br /></td></tr>
<tr class="separator:gaa4bf1048740dfc08d68aba9f1b4db22e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Core conversion functions</h2></td></tr>
<tr class="memitem:gaa5bb6cab830146efa8c760fa66ee582a" id="r_gaa5bb6cab830146efa8c760fa66ee582a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa5bb6cab830146efa8c760fa66ee582a">swr_convert</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>, <a class="el" href="_s_d_l__config__ngage_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **out, int out_count, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="_s_d_l__config__ngage_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **<a class="el" href="_s_d_l__opengl__glext_8h.html#a83ad0ee7f1e06b59c90271716e689080">in</a>, int in_count)</td></tr>
<tr class="memdesc:gaa5bb6cab830146efa8c760fa66ee582a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert audio.  <br /></td></tr>
<tr class="separator:gaa5bb6cab830146efa8c760fa66ee582a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad9811626c6c01a241f6bf46aff27333" id="r_gaad9811626c6c01a241f6bf46aff27333"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaad9811626c6c01a241f6bf46aff27333">swr_next_pts</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>, <a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a> pts)</td></tr>
<tr class="memdesc:gaad9811626c6c01a241f6bf46aff27333"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the next timestamp from input to output timestamps are in 1/(in_sample_rate * out_sample_rate) units.  <br /></td></tr>
<tr class="separator:gaad9811626c6c01a241f6bf46aff27333"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Low-level option setting functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>These functons provide a means to set low-level options that is not possible with the <a class="el" href="struct_a_v_option.html" title="AVOption">AVOption</a> API. </p>
</td></tr>
<tr class="memitem:gab7f21690522b85d7757e13fa9853d4d8" id="r_gab7f21690522b85d7757e13fa9853d4d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab7f21690522b85d7757e13fa9853d4d8">swr_set_compensation</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>, int sample_delta, int compensation_distance)</td></tr>
<tr class="memdesc:gab7f21690522b85d7757e13fa9853d4d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate resampling compensation ("soft" compensation).  <br /></td></tr>
<tr class="separator:gab7f21690522b85d7757e13fa9853d4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b528050b5f5b704aecbfbc257a17ef0" id="r_ga1b528050b5f5b704aecbfbc257a17ef0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1b528050b5f5b704aecbfbc257a17ef0">swr_set_channel_mapping</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int *channel_map)</td></tr>
<tr class="memdesc:ga1b528050b5f5b704aecbfbc257a17ef0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a customized input channel mapping.  <br /></td></tr>
<tr class="separator:ga1b528050b5f5b704aecbfbc257a17ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0405fcd08440b3fc0165a00969582dc3" id="r_ga0405fcd08440b3fc0165a00969582dc3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0405fcd08440b3fc0165a00969582dc3">swr_build_matrix</a> (<a class="el" href="_s_d_l__config__ngage_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> in_layout, <a class="el" href="_s_d_l__config__ngage_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> out_layout, double center_mix_level, double surround_mix_level, double lfe_mix_level, double rematrix_maxval, double rematrix_volume, double *<a class="el" href="_s_d_l__opengl__glext_8h.html#a7b24a3f2f56eb1244ae69dacb4fecb6f">matrix</a>, int <a class="el" href="_s_d_l__opengl__glext_8h.html#a0c101456f4ab21f66c7a4553751b9e9b">stride</a>, enum <a class="el" href="group__channel__mask__c.html#gabd576ea664e3ac5d31f3362064fe13e6">AVMatrixEncoding</a> matrix_encoding, <a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a> *log_ctx)</td></tr>
<tr class="memdesc:ga0405fcd08440b3fc0165a00969582dc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a channel mixing matrix.  <br /></td></tr>
<tr class="separator:ga0405fcd08440b3fc0165a00969582dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9064d65b1e654dc78f7d6bcd2e8c747" id="r_gaf9064d65b1e654dc78f7d6bcd2e8c747"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf9064d65b1e654dc78f7d6bcd2e8c747">swr_set_matrix</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> double *<a class="el" href="_s_d_l__opengl__glext_8h.html#a7b24a3f2f56eb1244ae69dacb4fecb6f">matrix</a>, int <a class="el" href="_s_d_l__opengl__glext_8h.html#a0c101456f4ab21f66c7a4553751b9e9b">stride</a>)</td></tr>
<tr class="memdesc:gaf9064d65b1e654dc78f7d6bcd2e8c747"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a customized remix matrix.  <br /></td></tr>
<tr class="separator:gaf9064d65b1e654dc78f7d6bcd2e8c747"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Sample handling functions</h2></td></tr>
<tr class="memitem:ga43d7ba4507891fc25aacbbea5cdfb065" id="r_ga43d7ba4507891fc25aacbbea5cdfb065"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga43d7ba4507891fc25aacbbea5cdfb065">swr_drop_output</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>, int <a class="el" href="_s_d_l__opengl_8h.html#a619bc20e8198de3bd3f3d7fc34de66b2">count</a>)</td></tr>
<tr class="memdesc:ga43d7ba4507891fc25aacbbea5cdfb065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drops the specified number of output samples.  <br /></td></tr>
<tr class="separator:ga43d7ba4507891fc25aacbbea5cdfb065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4733ed4779ed3e30379de2a6ef8de837" id="r_ga4733ed4779ed3e30379de2a6ef8de837"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4733ed4779ed3e30379de2a6ef8de837">swr_inject_silence</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>, int <a class="el" href="_s_d_l__opengl_8h.html#a619bc20e8198de3bd3f3d7fc34de66b2">count</a>)</td></tr>
<tr class="memdesc:ga4733ed4779ed3e30379de2a6ef8de837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Injects the specified number of silence samples.  <br /></td></tr>
<tr class="separator:ga4733ed4779ed3e30379de2a6ef8de837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5121a5a7890a2d23b72dc871dd0ebb06" id="r_ga5121a5a7890a2d23b72dc871dd0ebb06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5121a5a7890a2d23b72dc871dd0ebb06">swr_get_delay</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>, <a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a> base)</td></tr>
<tr class="memdesc:ga5121a5a7890a2d23b72dc871dd0ebb06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the delay the next input sample will experience relative to the next output sample.  <br /></td></tr>
<tr class="separator:ga5121a5a7890a2d23b72dc871dd0ebb06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97a8d5f6abe3bcdfb6072412f17285a4" id="r_ga97a8d5f6abe3bcdfb6072412f17285a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga97a8d5f6abe3bcdfb6072412f17285a4">swr_get_out_samples</a> (struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *<a class="el" href="_s_d_l__opengl_8h.html#ad585a1393cfa368fa9dc3d8ebff640d5">s</a>, int in_samples)</td></tr>
<tr class="memdesc:ga97a8d5f6abe3bcdfb6072412f17285a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find an upper bound on the number of samples that the next swr_convert call will output, if called with in_samples of input samples.  <br /></td></tr>
<tr class="separator:ga97a8d5f6abe3bcdfb6072412f17285a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Configuration accessors</h2></td></tr>
<tr class="memitem:gaed39c2153a1e26b4ef656ec8c765a2e3" id="r_gaed39c2153a1e26b4ef656ec8c765a2e3"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaed39c2153a1e26b4ef656ec8c765a2e3">swresample_version</a> (<a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a>)</td></tr>
<tr class="memdesc:gaed39c2153a1e26b4ef656ec8c765a2e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the <a class="el" href="tools_2ffmpeg_2win64_2include_2libswresample_2version_8h.html#a6172452a08ba6386e2265bd34769982b">LIBSWRESAMPLE_VERSION_INT</a> constant.  <br /></td></tr>
<tr class="separator:gaed39c2153a1e26b4ef656ec8c765a2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb05ad2022842645a473d46212461be7" id="r_gacb05ad2022842645a473d46212461be7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacb05ad2022842645a473d46212461be7">swresample_configuration</a> (<a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a>)</td></tr>
<tr class="memdesc:gacb05ad2022842645a473d46212461be7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the swr build-time configuration.  <br /></td></tr>
<tr class="separator:gacb05ad2022842645a473d46212461be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga138666c7d154a3b3a10cfe490b752266" id="r_ga138666c7d154a3b3a10cfe490b752266"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga138666c7d154a3b3a10cfe490b752266">swresample_license</a> (<a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a>)</td></tr>
<tr class="memdesc:ga138666c7d154a3b3a10cfe490b752266"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the swr license.  <br /></td></tr>
<tr class="separator:ga138666c7d154a3b3a10cfe490b752266"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">AVFrame based API</h2></td></tr>
<tr class="memitem:gac482028c01d95580106183aa84b0930c" id="r_gac482028c01d95580106183aa84b0930c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac482028c01d95580106183aa84b0930c">swr_convert_frame</a> (<a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *swr, <a class="el" href="struct_a_v_frame.html">AVFrame</a> *<a class="el" href="_s_d_l__opengles2__gl2ext_8h.html#a9ba7d27ca4a6af27d4bce8971eb775f5">output</a>, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> *<a class="el" href="_s_d_l__opengl__glext_8h.html#ad3c78daa7d8673f71649d4840c641779">input</a>)</td></tr>
<tr class="memdesc:gac482028c01d95580106183aa84b0930c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the samples in the input <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a> and write them to the output <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a>.  <br /></td></tr>
<tr class="separator:gac482028c01d95580106183aa84b0930c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73ade2cf6934765cf518c6c917b77c76" id="r_ga73ade2cf6934765cf518c6c917b77c76"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga73ade2cf6934765cf518c6c917b77c76">swr_config_frame</a> (<a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *swr, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> *out, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> *<a class="el" href="_s_d_l__opengl__glext_8h.html#a83ad0ee7f1e06b59c90271716e689080">in</a>)</td></tr>
<tr class="memdesc:ga73ade2cf6934765cf518c6c917b77c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure or reconfigure the <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a> using the information provided by the AVFrames.  <br /></td></tr>
<tr class="separator:ga73ade2cf6934765cf518c6c917b77c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<p>Audio resampling, sample format conversion and mixing library. </p>
<p>Interaction with lswr is done through <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a>, which is allocated with <a class="el" href="#ga17283a2547f79f4013ba32820ec86ca8" title="Allocate SwrContext.">swr_alloc()</a> or <a class="el" href="#ga89f749e85aa01c31fc7a900f606bfe21" title="Allocate SwrContext if needed and set/reset common parameters.">swr_alloc_set_opts()</a>. It is opaque, so all parameters must be set with the <a class="el" href="group__avoptions.html">AVOptions</a> API.</p>
<p>The first thing you will need to do in order to use lswr is to allocate <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a>. This can be done with <a class="el" href="#ga17283a2547f79f4013ba32820ec86ca8" title="Allocate SwrContext.">swr_alloc()</a> or <a class="el" href="#ga89f749e85aa01c31fc7a900f606bfe21" title="Allocate SwrContext if needed and set/reset common parameters.">swr_alloc_set_opts()</a>. If you are using the former, you must set options through the <a class="el" href="group__avoptions.html">AVOptions</a> API. The latter function provides the same feature, but it allows you to set some common options in the same statement.</p>
<p>For example the following code will setup conversion from planar float sample format to interleaved signed 16-bit integer, downsampling from 48kHz to 44.1kHz and downmixing from 5.1 channels to stereo (using the default mixing matrix). This is using the <a class="el" href="#ga17283a2547f79f4013ba32820ec86ca8" title="Allocate SwrContext.">swr_alloc()</a> function. </p><div class="fragment"><div class="line"><a class="code hl_typedef" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *swr = <a class="code hl_function" href="#ga17283a2547f79f4013ba32820ec86ca8">swr_alloc</a>();</div>
<div class="line"><a class="code hl_function" href="group__opt__set__funcs.html#gaf25f11e11068f2c41197ba072f25d2a4">av_opt_set_channel_layout</a>(swr, <span class="stringliteral">&quot;in_channel_layout&quot;</span>,  <a class="code hl_define" href="group__channel__mask__c.html#gac36a042dc21866f9043ce930f300d0df">AV_CH_LAYOUT_5POINT1</a>, 0);</div>
<div class="line"><a class="code hl_function" href="group__opt__set__funcs.html#gaf25f11e11068f2c41197ba072f25d2a4">av_opt_set_channel_layout</a>(swr, <span class="stringliteral">&quot;out_channel_layout&quot;</span>, <a class="code hl_define" href="group__channel__mask__c.html#gabc6d6651bba254cd0fa2c42a57228e65">AV_CH_LAYOUT_STEREO</a>,  0);</div>
<div class="line"><a class="code hl_function" href="group__opt__set__funcs.html#ga3adf7185c21cc080890a5ec02c2e56b2">av_opt_set_int</a>(swr, <span class="stringliteral">&quot;in_sample_rate&quot;</span>,     48000,                0);</div>
<div class="line"><a class="code hl_function" href="group__opt__set__funcs.html#ga3adf7185c21cc080890a5ec02c2e56b2">av_opt_set_int</a>(swr, <span class="stringliteral">&quot;out_sample_rate&quot;</span>,    44100,                0);</div>
<div class="line"><a class="code hl_function" href="group__opt__set__funcs.html#gad446f7a7b92442e464d43e400e661040">av_opt_set_sample_fmt</a>(swr, <span class="stringliteral">&quot;in_sample_fmt&quot;</span>,  <a class="code hl_enumvalue" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a>, 0);</div>
<div class="line"><a class="code hl_function" href="group__opt__set__funcs.html#gad446f7a7b92442e464d43e400e661040">av_opt_set_sample_fmt</a>(swr, <span class="stringliteral">&quot;out_sample_fmt&quot;</span>, <a class="code hl_enumvalue" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a>,  0);</div>
<div class="ttc" id="agroup__channel__mask__c_html_gabc6d6651bba254cd0fa2c42a57228e65"><div class="ttname"><a href="group__channel__mask__c.html#gabc6d6651bba254cd0fa2c42a57228e65">AV_CH_LAYOUT_STEREO</a></div><div class="ttdeci">#define AV_CH_LAYOUT_STEREO</div><div class="ttdef"><b>定义</b> channel_layout.h:86</div></div>
<div class="ttc" id="agroup__channel__mask__c_html_gac36a042dc21866f9043ce930f300d0df"><div class="ttname"><a href="group__channel__mask__c.html#gac36a042dc21866f9043ce930f300d0df">AV_CH_LAYOUT_5POINT1</a></div><div class="ttdeci">#define AV_CH_LAYOUT_5POINT1</div><div class="ttdef"><b>定义</b> channel_layout.h:96</div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_FLTP</div><div class="ttdoc">float, planar</div><div class="ttdef"><b>定义</b> samplefmt.h:69</div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_S16</div><div class="ttdoc">signed 16 bits</div><div class="ttdef"><b>定义</b> samplefmt.h:61</div></div>
<div class="ttc" id="agroup__lswr_html_ga17283a2547f79f4013ba32820ec86ca8"><div class="ttname"><a href="#ga17283a2547f79f4013ba32820ec86ca8">swr_alloc</a></div><div class="ttdeci">struct SwrContext * swr_alloc(void)</div><div class="ttdoc">Allocate SwrContext.</div></div>
<div class="ttc" id="agroup__lswr_html_ga4aa775b7fba31d2c8dc14c7b7e282863"><div class="ttname"><a href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a></div><div class="ttdeci">struct SwrContext SwrContext</div><div class="ttdoc">The libswresample context.</div><div class="ttdef"><b>定义</b> swresample.h:182</div></div>
<div class="ttc" id="agroup__opt__set__funcs_html_ga3adf7185c21cc080890a5ec02c2e56b2"><div class="ttname"><a href="group__opt__set__funcs.html#ga3adf7185c21cc080890a5ec02c2e56b2">av_opt_set_int</a></div><div class="ttdeci">int av_opt_set_int(void *obj, const char *name, int64_t val, int search_flags)</div></div>
<div class="ttc" id="agroup__opt__set__funcs_html_gad446f7a7b92442e464d43e400e661040"><div class="ttname"><a href="group__opt__set__funcs.html#gad446f7a7b92442e464d43e400e661040">av_opt_set_sample_fmt</a></div><div class="ttdeci">int av_opt_set_sample_fmt(void *obj, const char *name, enum AVSampleFormat fmt, int search_flags)</div></div>
<div class="ttc" id="agroup__opt__set__funcs_html_gaf25f11e11068f2c41197ba072f25d2a4"><div class="ttname"><a href="group__opt__set__funcs.html#gaf25f11e11068f2c41197ba072f25d2a4">av_opt_set_channel_layout</a></div><div class="ttdeci">int av_opt_set_channel_layout(void *obj, const char *name, int64_t ch_layout, int search_flags)</div></div>
</div><!-- fragment --><p>The same job can be done using <a class="el" href="#ga89f749e85aa01c31fc7a900f606bfe21" title="Allocate SwrContext if needed and set/reset common parameters.">swr_alloc_set_opts()</a> as well: </p><div class="fragment"><div class="line"><a class="code hl_typedef" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *swr = <a class="code hl_function" href="#ga89f749e85aa01c31fc7a900f606bfe21">swr_alloc_set_opts</a>(<a class="code hl_define" href="begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,  <span class="comment">// we&#39;re allocating a new context</span></div>
<div class="line">                      <a class="code hl_define" href="group__channel__mask__c.html#gabc6d6651bba254cd0fa2c42a57228e65">AV_CH_LAYOUT_STEREO</a>,  <span class="comment">// out_ch_layout</span></div>
<div class="line">                      <a class="code hl_enumvalue" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a>,    <span class="comment">// out_sample_fmt</span></div>
<div class="line">                      44100,                <span class="comment">// out_sample_rate</span></div>
<div class="line">                      <a class="code hl_define" href="group__channel__mask__c.html#gac36a042dc21866f9043ce930f300d0df">AV_CH_LAYOUT_5POINT1</a>, <span class="comment">// in_ch_layout</span></div>
<div class="line">                      <a class="code hl_enumvalue" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a>,   <span class="comment">// in_sample_fmt</span></div>
<div class="line">                      48000,                <span class="comment">// in_sample_rate</span></div>
<div class="line">                      0,                    <span class="comment">// log_offset</span></div>
<div class="line">                      <a class="code hl_define" href="begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);                <span class="comment">// log_ctx</span></div>
<div class="ttc" id="abegin__code_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>定义</b> begin_code.h:165</div></div>
<div class="ttc" id="agroup__lswr_html_ga89f749e85aa01c31fc7a900f606bfe21"><div class="ttname"><a href="#ga89f749e85aa01c31fc7a900f606bfe21">swr_alloc_set_opts</a></div><div class="ttdeci">struct SwrContext * swr_alloc_set_opts(struct SwrContext *s, int64_t out_ch_layout, enum AVSampleFormat out_sample_fmt, int out_sample_rate, int64_t in_ch_layout, enum AVSampleFormat in_sample_fmt, int in_sample_rate, int log_offset, void *log_ctx)</div><div class="ttdoc">Allocate SwrContext if needed and set/reset common parameters.</div></div>
</div><!-- fragment --><p>Once all values have been set, it must be initialized with <a class="el" href="#gae173e8ed91717700471a1dcd06f00f67" title="Initialize context after user parameters have been set.">swr_init()</a>. If you need to change the conversion parameters, you can change the parameters using AVOptions, as described above in the first example; or by using <a class="el" href="#ga89f749e85aa01c31fc7a900f606bfe21" title="Allocate SwrContext if needed and set/reset common parameters.">swr_alloc_set_opts()</a>, but with the first argument the allocated context. You must then call <a class="el" href="#gae173e8ed91717700471a1dcd06f00f67" title="Initialize context after user parameters have been set.">swr_init()</a> again.</p>
<p>The conversion itself is done by repeatedly calling <a class="el" href="#gaa5bb6cab830146efa8c760fa66ee582a" title="Convert audio.">swr_convert()</a>. Note that the samples may get buffered in swr if you provide insufficient output space or if sample rate conversion is done, which requires "future" samples. Samples that do not require future input can be retrieved at any time by using <a class="el" href="#gaa5bb6cab830146efa8c760fa66ee582a" title="Convert audio.">swr_convert()</a> (in_count can be set to 0). At the end of conversion the resampling buffer can be flushed by calling <a class="el" href="#gaa5bb6cab830146efa8c760fa66ee582a" title="Convert audio.">swr_convert()</a> with NULL in and 0 in_count.</p>
<p>The samples used in the conversion process can be managed with the libavutil <a class="el" href="group__lavu__sampmanip.html">samples manipulation</a> API, including <a class="el" href="group__lavu__sampmanip.html#ga4db4c77f928d32c7d8854732f50b8c04" title="Allocate a samples buffer for nb_samples samples, and fill data pointers and linesize accordingly.">av_samples_alloc()</a> function used in the following example.</p>
<p>The delay between input and output, can at any time be found by using <a class="el" href="#ga5121a5a7890a2d23b72dc871dd0ebb06" title="Gets the delay the next input sample will experience relative to the next output sample.">swr_get_delay()</a>.</p>
<p>The following code demonstrates the conversion loop assuming the parameters from above and caller-defined functions get_input() and handle_output(): </p><div class="fragment"><div class="line"><a class="code hl_typedef" href="_s_d_l__config__ngage_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **<a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#ad3c78daa7d8673f71649d4840c641779">input</a>;</div>
<div class="line"><span class="keywordtype">int</span> in_samples;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span> (get_input(&amp;<a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#ad3c78daa7d8673f71649d4840c641779">input</a>, &amp;in_samples)) {</div>
<div class="line">    <a class="code hl_typedef" href="_s_d_l__config__ngage_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *<a class="code hl_typedef" href="_s_d_l__opengles2__gl2ext_8h.html#a9ba7d27ca4a6af27d4bce8971eb775f5">output</a>;</div>
<div class="line">    <span class="keywordtype">int</span> out_samples = <a class="code hl_function" href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a>(<a class="code hl_function" href="#ga5121a5a7890a2d23b72dc871dd0ebb06">swr_get_delay</a>(swr, 48000) +</div>
<div class="line">                                     in_samples, 44100, 48000, <a class="code hl_enumvalue" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0aa1d28e08e2f8b49b256e056f93038c1a">AV_ROUND_UP</a>);</div>
<div class="line">    <a class="code hl_function" href="group__lavu__sampmanip.html#ga4db4c77f928d32c7d8854732f50b8c04">av_samples_alloc</a>(&amp;<a class="code hl_typedef" href="_s_d_l__opengles2__gl2ext_8h.html#a9ba7d27ca4a6af27d4bce8971eb775f5">output</a>, <a class="code hl_define" href="begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 2, out_samples,</div>
<div class="line">                     <a class="code hl_enumvalue" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a>, 0);</div>
<div class="line">    out_samples = <a class="code hl_function" href="#gaa5bb6cab830146efa8c760fa66ee582a">swr_convert</a>(swr, &amp;<a class="code hl_typedef" href="_s_d_l__opengles2__gl2ext_8h.html#a9ba7d27ca4a6af27d4bce8971eb775f5">output</a>, out_samples,</div>
<div class="line">                                     <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#ad3c78daa7d8673f71649d4840c641779">input</a>, in_samples);</div>
<div class="line">    handle_output(<a class="code hl_typedef" href="_s_d_l__opengles2__gl2ext_8h.html#a9ba7d27ca4a6af27d4bce8971eb775f5">output</a>, out_samples);</div>
<div class="line">    <a class="code hl_function" href="group__lavu__mem__funcs.html#ga0cc84043ea2167ad005c86e11d0bcdba">av_freep</a>(&amp;<a class="code hl_typedef" href="_s_d_l__opengles2__gl2ext_8h.html#a9ba7d27ca4a6af27d4bce8971eb775f5">output</a>);</div>
<div class="line">}</div>
<div class="ttc" id="a_s_d_l__config__ngage_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="_s_d_l__config__ngage_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdoc">8 位无符号整数</div><div class="ttdef"><b>定义</b> SDL_config_ngage.h:29</div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_ad3c78daa7d8673f71649d4840c641779"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#ad3c78daa7d8673f71649d4840c641779">input</a></div><div class="ttdeci">GLenum GLenum GLenum input</div><div class="ttdef"><b>定义</b> SDL_opengl_glext.h:11270</div></div>
<div class="ttc" id="a_s_d_l__opengles2__gl2ext_8h_html_a9ba7d27ca4a6af27d4bce8971eb775f5"><div class="ttname"><a href="_s_d_l__opengles2__gl2ext_8h.html#a9ba7d27ca4a6af27d4bce8971eb775f5">output</a></div><div class="ttdeci">GLuint GLuint output</div><div class="ttdef"><b>定义</b> SDL_opengles2_gl2ext.h:3885</div></div>
<div class="ttc" id="agroup__lavu__math_html_ga82d40664213508918093822461cc597e"><div class="ttname"><a href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a></div><div class="ttdeci">int64_t av_rescale_rnd(int64_t a, int64_t b, int64_t c, enum AVRounding rnd) av_const</div><div class="ttdoc">Rescale a 64-bit integer with specified rounding.</div></div>
<div class="ttc" id="agroup__lavu__math_html_gga921d656eaf2c4d6800a734a13af021d0aa1d28e08e2f8b49b256e056f93038c1a"><div class="ttname"><a href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0aa1d28e08e2f8b49b256e056f93038c1a">AV_ROUND_UP</a></div><div class="ttdeci">@ AV_ROUND_UP</div><div class="ttdoc">Round toward +infinity.</div><div class="ttdef"><b>定义</b> mathematics.h:83</div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga0cc84043ea2167ad005c86e11d0bcdba"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga0cc84043ea2167ad005c86e11d0bcdba">av_freep</a></div><div class="ttdeci">void av_freep(void *ptr)</div><div class="ttdoc">Free a memory block which has been allocated with a function of av_malloc() or av_realloc() family,...</div></div>
<div class="ttc" id="agroup__lavu__sampmanip_html_ga4db4c77f928d32c7d8854732f50b8c04"><div class="ttname"><a href="group__lavu__sampmanip.html#ga4db4c77f928d32c7d8854732f50b8c04">av_samples_alloc</a></div><div class="ttdeci">int av_samples_alloc(uint8_t **audio_data, int *linesize, int nb_channels, int nb_samples, enum AVSampleFormat sample_fmt, int align)</div><div class="ttdoc">Allocate a samples buffer for nb_samples samples, and fill data pointers and linesize accordingly.</div></div>
<div class="ttc" id="agroup__lswr_html_ga5121a5a7890a2d23b72dc871dd0ebb06"><div class="ttname"><a href="#ga5121a5a7890a2d23b72dc871dd0ebb06">swr_get_delay</a></div><div class="ttdeci">int64_t swr_get_delay(struct SwrContext *s, int64_t base)</div><div class="ttdoc">Gets the delay the next input sample will experience relative to the next output sample.</div></div>
<div class="ttc" id="agroup__lswr_html_gaa5bb6cab830146efa8c760fa66ee582a"><div class="ttname"><a href="#gaa5bb6cab830146efa8c760fa66ee582a">swr_convert</a></div><div class="ttdeci">int swr_convert(struct SwrContext *s, uint8_t **out, int out_count, const uint8_t **in, int in_count)</div><div class="ttdoc">Convert audio.</div></div>
</div><!-- fragment --><p>When the conversion is finished, the conversion context and everything associated with it must be freed with <a class="el" href="#ga818f7d78b1ad7d8d5b70de374b668c34" title="Free the given SwrContext and set the pointer to NULL.">swr_free()</a>. A <a class="el" href="#gaa4bf1048740dfc08d68aba9f1b4db22e" title="Closes the context so that swr_is_initialized() returns 0.">swr_close()</a> function is also available, but it exists mainly for compatibility with libavresample, and is not required to be called.</p>
<p>There will be no memory leak if the data is not completely flushed before <a class="el" href="#ga818f7d78b1ad7d8d5b70de374b668c34" title="Free the given SwrContext and set the pointer to NULL.">swr_free()</a>. </p>
<h2 class="groupheader">宏定义说明</h2>
<a id="ga2226aca7f49137f3f29b6f731a985916" name="ga2226aca7f49137f3f29b6f731a985916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2226aca7f49137f3f29b6f731a985916">&#9670;&#160;</a></span>SWR_FLAG_RESAMPLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SWR_FLAG_RESAMPLE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force resampling even if equal sample rate </p>

</div>
</div>
<h2 class="groupheader">类型定义说明</h2>
<a id="ga4aa775b7fba31d2c8dc14c7b7e282863" name="ga4aa775b7fba31d2c8dc14c7b7e282863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4aa775b7fba31d2c8dc14c7b7e282863">&#9670;&#160;</a></span>SwrContext</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The libswresample context. </p>
<p>Unlike libavcodec and libavformat, this structure is opaque. This means that if you would like to set options, you must use the <a class="el" href="group__avoptions.html">AVOptions</a> API and cannot directly set values to members of the structure. </p>

</div>
</div>
<h2 class="groupheader">枚举类型说明</h2>
<a id="ga387e613b19e5269a46d9ff1a5ee3fcd4" name="ga387e613b19e5269a46d9ff1a5ee3fcd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga387e613b19e5269a46d9ff1a5ee3fcd4">&#9670;&#160;</a></span>SwrDitherType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga387e613b19e5269a46d9ff1a5ee3fcd4">SwrDitherType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dithering algorithms </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4afacc17a82581598f762a8036ba559836" name="gga387e613b19e5269a46d9ff1a5ee3fcd4afacc17a82581598f762a8036ba559836"></a>SWR_DITHER_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4a0fec2dd28b1357b50e9807ca6ecee83a" name="gga387e613b19e5269a46d9ff1a5ee3fcd4a0fec2dd28b1357b50e9807ca6ecee83a"></a>SWR_DITHER_RECTANGULAR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4ae4635dc355dc680eeb211e7af17ddfd2" name="gga387e613b19e5269a46d9ff1a5ee3fcd4ae4635dc355dc680eeb211e7af17ddfd2"></a>SWR_DITHER_TRIANGULAR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4a91276f2e437aa9d0d8bdffabe24f5532" name="gga387e613b19e5269a46d9ff1a5ee3fcd4a91276f2e437aa9d0d8bdffabe24f5532"></a>SWR_DITHER_TRIANGULAR_HIGHPASS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4ae6858a54f5b2e1bffa9aaef20b2593c0" name="gga387e613b19e5269a46d9ff1a5ee3fcd4ae6858a54f5b2e1bffa9aaef20b2593c0"></a>SWR_DITHER_NS&#160;</td><td class="fielddoc"><p>not part of API/ABI </p>
</td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4a6f6072071262f7f05a52057cfe48df87" name="gga387e613b19e5269a46d9ff1a5ee3fcd4a6f6072071262f7f05a52057cfe48df87"></a>SWR_DITHER_NS_LIPSHITZ&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4ae197d7fc5592652aaa8edf1067c56af9" name="gga387e613b19e5269a46d9ff1a5ee3fcd4ae197d7fc5592652aaa8edf1067c56af9"></a>SWR_DITHER_NS_F_WEIGHTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4a60eeb8ca5de47916a81f2c3a6534eed4" name="gga387e613b19e5269a46d9ff1a5ee3fcd4a60eeb8ca5de47916a81f2c3a6534eed4"></a>SWR_DITHER_NS_MODIFIED_E_WEIGHTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4ad13d2ff2831d463eb46ca4c46dfec7b0" name="gga387e613b19e5269a46d9ff1a5ee3fcd4ad13d2ff2831d463eb46ca4c46dfec7b0"></a>SWR_DITHER_NS_IMPROVED_E_WEIGHTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4ae3aba4bf43c2210a148b11c0215b5d24" name="gga387e613b19e5269a46d9ff1a5ee3fcd4ae3aba4bf43c2210a148b11c0215b5d24"></a>SWR_DITHER_NS_SHIBATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4af275c21089abbf78a6623544f34d76f9" name="gga387e613b19e5269a46d9ff1a5ee3fcd4af275c21089abbf78a6623544f34d76f9"></a>SWR_DITHER_NS_LOW_SHIBATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4ac569828a706ccf22a8d5810c973c8f17" name="gga387e613b19e5269a46d9ff1a5ee3fcd4ac569828a706ccf22a8d5810c973c8f17"></a>SWR_DITHER_NS_HIGH_SHIBATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga387e613b19e5269a46d9ff1a5ee3fcd4aacbdf2f91bb14cf390116492115fb8ea" name="gga387e613b19e5269a46d9ff1a5ee3fcd4aacbdf2f91bb14cf390116492115fb8ea"></a>SWR_DITHER_NB&#160;</td><td class="fielddoc"><p>not part of API/ABI </p>
</td></tr>
</table>

</div>
</div>
<a id="ga87f9e023bbe780d3ccf17dfc7abed580" name="ga87f9e023bbe780d3ccf17dfc7abed580"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga87f9e023bbe780d3ccf17dfc7abed580">&#9670;&#160;</a></span>SwrEngine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga87f9e023bbe780d3ccf17dfc7abed580">SwrEngine</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resampling Engines </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="gga87f9e023bbe780d3ccf17dfc7abed580a11652db5af0c279d79deba1c577c9729" name="gga87f9e023bbe780d3ccf17dfc7abed580a11652db5af0c279d79deba1c577c9729"></a>SWR_ENGINE_SWR&#160;</td><td class="fielddoc"><p>SW Resampler </p>
</td></tr>
<tr><td class="fieldname"><a id="gga87f9e023bbe780d3ccf17dfc7abed580a2933f5b0b96829095a04a8acd19b27e7" name="gga87f9e023bbe780d3ccf17dfc7abed580a2933f5b0b96829095a04a8acd19b27e7"></a>SWR_ENGINE_SOXR&#160;</td><td class="fielddoc"><p>SoX Resampler </p>
</td></tr>
<tr><td class="fieldname"><a id="gga87f9e023bbe780d3ccf17dfc7abed580a865af2e70ebb85b3cafb93f1854dbef9" name="gga87f9e023bbe780d3ccf17dfc7abed580a865af2e70ebb85b3cafb93f1854dbef9"></a>SWR_ENGINE_NB&#160;</td><td class="fielddoc"><p>not part of API/ABI </p>
</td></tr>
</table>

</div>
</div>
<a id="ga2176b2a3a8b809788f6e7ccdc238b6be" name="ga2176b2a3a8b809788f6e7ccdc238b6be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2176b2a3a8b809788f6e7ccdc238b6be">&#9670;&#160;</a></span>SwrFilterType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga2176b2a3a8b809788f6e7ccdc238b6be">SwrFilterType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resampling Filter Types </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="gga2176b2a3a8b809788f6e7ccdc238b6bea1a6413b9888bac851e2ee4f991f01d0c" name="gga2176b2a3a8b809788f6e7ccdc238b6bea1a6413b9888bac851e2ee4f991f01d0c"></a>SWR_FILTER_TYPE_CUBIC&#160;</td><td class="fielddoc"><p>Cubic </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2176b2a3a8b809788f6e7ccdc238b6bea17f5dd4512b4abc2285905293a81cf55" name="gga2176b2a3a8b809788f6e7ccdc238b6bea17f5dd4512b4abc2285905293a81cf55"></a>SWR_FILTER_TYPE_BLACKMAN_NUTTALL&#160;</td><td class="fielddoc"><p>Blackman Nuttall windowed sinc </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2176b2a3a8b809788f6e7ccdc238b6bea8f492a5dc94b6e41a37f190c5492bf3f" name="gga2176b2a3a8b809788f6e7ccdc238b6bea8f492a5dc94b6e41a37f190c5492bf3f"></a>SWR_FILTER_TYPE_KAISER&#160;</td><td class="fielddoc"><p>Kaiser windowed sinc </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a id="ga17283a2547f79f4013ba32820ec86ca8" name="ga17283a2547f79f4013ba32820ec86ca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17283a2547f79f4013ba32820ec86ca8">&#9670;&#160;</a></span>swr_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> * swr_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a>. </p>
<p>If you use this function you will need to set the parameters (manually or with <a class="el" href="#ga89f749e85aa01c31fc7a900f606bfe21" title="Allocate SwrContext if needed and set/reset common parameters.">swr_alloc_set_opts()</a>) before calling <a class="el" href="#gae173e8ed91717700471a1dcd06f00f67" title="Initialize context after user parameters have been set.">swr_init()</a>.</p>
<dl class="section see"><dt>参见</dt><dd><a class="el" href="#ga89f749e85aa01c31fc7a900f606bfe21" title="Allocate SwrContext if needed and set/reset common parameters.">swr_alloc_set_opts()</a>, <a class="el" href="#gae173e8ed91717700471a1dcd06f00f67" title="Initialize context after user parameters have been set.">swr_init()</a>, <a class="el" href="#ga818f7d78b1ad7d8d5b70de374b668c34" title="Free the given SwrContext and set the pointer to NULL.">swr_free()</a> </dd></dl>
<dl class="section return"><dt>返回</dt><dd>NULL on error, allocated context otherwise </dd></dl>

</div>
</div>
<a id="ga89f749e85aa01c31fc7a900f606bfe21" name="ga89f749e85aa01c31fc7a900f606bfe21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89f749e85aa01c31fc7a900f606bfe21">&#9670;&#160;</a></span>swr_alloc_set_opts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> * swr_alloc_set_opts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a></td>          <td class="paramname"><span class="paramname"><em>out_ch_layout</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a></td>          <td class="paramname"><span class="paramname"><em>out_sample_fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>out_sample_rate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a></td>          <td class="paramname"><span class="paramname"><em>in_ch_layout</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a></td>          <td class="paramname"><span class="paramname"><em>in_sample_fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>in_sample_rate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>log_offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a> *</td>          <td class="paramname"><span class="paramname"><em>log_ctx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a> if needed and set/reset common parameters. </p>
<p>This function does not require s to be allocated with <a class="el" href="#ga17283a2547f79f4013ba32820ec86ca8" title="Allocate SwrContext.">swr_alloc()</a>. On the other hand, <a class="el" href="#ga17283a2547f79f4013ba32820ec86ca8" title="Allocate SwrContext.">swr_alloc()</a> can use <a class="el" href="#ga89f749e85aa01c31fc7a900f606bfe21" title="Allocate SwrContext if needed and set/reset common parameters.">swr_alloc_set_opts()</a> to set the parameters on the allocated context.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>existing Swr context if available, or NULL if not </td></tr>
    <tr><td class="paramname">out_ch_layout</td><td>output channel layout (AV_CH_LAYOUT_*) </td></tr>
    <tr><td class="paramname">out_sample_fmt</td><td>output sample format (AV_SAMPLE_FMT_*). </td></tr>
    <tr><td class="paramname">out_sample_rate</td><td>output sample rate (frequency in Hz) </td></tr>
    <tr><td class="paramname">in_ch_layout</td><td>input channel layout (AV_CH_LAYOUT_*) </td></tr>
    <tr><td class="paramname">in_sample_fmt</td><td>input sample format (AV_SAMPLE_FMT_*). </td></tr>
    <tr><td class="paramname">in_sample_rate</td><td>input sample rate (frequency in Hz) </td></tr>
    <tr><td class="paramname">log_offset</td><td>logging level offset </td></tr>
    <tr><td class="paramname">log_ctx</td><td>parent logging context, can be NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd><a class="el" href="#gae173e8ed91717700471a1dcd06f00f67" title="Initialize context after user parameters have been set.">swr_init()</a>, <a class="el" href="#ga818f7d78b1ad7d8d5b70de374b668c34" title="Free the given SwrContext and set the pointer to NULL.">swr_free()</a> </dd></dl>
<dl class="section return"><dt>返回</dt><dd>NULL on error, allocated context otherwise </dd></dl>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__lswr_ga89f749e85aa01c31fc7a900f606bfe21_icgraph.png" border="0" usemap="#agroup__lswr_ga89f749e85aa01c31fc7a900f606bfe21_icgraph" alt=""/></div>
<map name="agroup__lswr_ga89f749e85aa01c31fc7a900f606bfe21_icgraph" id="agroup__lswr_ga89f749e85aa01c31fc7a900f606bfe21_icgraph">
<area shape="rect" title="Allocate SwrContext if needed and set/reset common parameters." alt="" coords="171,5,304,32"/>
<area shape="rect" href="class_video_player.html#a13a43e6d814de94978c515cb084873b1" title="读取视频文件线程函数" alt="" coords="5,5,123,32"/>
<area shape="poly" title=" " alt="" coords="155,21,123,21,123,16,155,16"/>
</map>
</div>

</div>
</div>
<a id="ga0405fcd08440b3fc0165a00969582dc3" name="ga0405fcd08440b3fc0165a00969582dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0405fcd08440b3fc0165a00969582dc3">&#9670;&#160;</a></span>swr_build_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_build_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_d_l__config__ngage_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></td>          <td class="paramname"><span class="paramname"><em>in_layout</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_d_l__config__ngage_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></td>          <td class="paramname"><span class="paramname"><em>out_layout</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>center_mix_level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>surround_mix_level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lfe_mix_level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>rematrix_maxval</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>rematrix_volume</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>matrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>stride</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__channel__mask__c.html#gabd576ea664e3ac5d31f3362064fe13e6">AVMatrixEncoding</a></td>          <td class="paramname"><span class="paramname"><em>matrix_encoding</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a> *</td>          <td class="paramname"><span class="paramname"><em>log_ctx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a channel mixing matrix. </p>
<p>This function is the one used internally by libswresample for building the default mixing matrix. It is made public just as a utility function for building custom matrices.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">in_layout</td><td>input channel layout </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">out_layout</td><td>output channel layout </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">center_mix_level</td><td>mix level for the center channel </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">surround_mix_level</td><td>mix level for the surround channel(s) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">lfe_mix_level</td><td>mix level for the low-frequency effects channel </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">rematrix_maxval</td><td>if 1.0, coefficients will be normalized to prevent overflow. if INT_MAX, coefficients will not be normalized. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">matrix</td><td>mixing coefficients; matrix[i + stride * o] is the weight of input channel i in output channel o. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">stride</td><td>distance between adjacent input channels in the matrix array </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">matrix_encoding</td><td>matrixed stereo downmix mode (e.g. dplii) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">log_ctx</td><td>parent logging context, can be NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 on success, negative AVERROR code on failure </dd></dl>

</div>
</div>
<a id="gaa4bf1048740dfc08d68aba9f1b4db22e" name="gaa4bf1048740dfc08d68aba9f1b4db22e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4bf1048740dfc08d68aba9f1b4db22e">&#9670;&#160;</a></span>swr_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a> swr_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the context so that <a class="el" href="#gab11b02705e97404b6d74b18b2fcfdfcf" title="Check whether an swr context has been initialized or not.">swr_is_initialized()</a> returns 0. </p>
<p>The context can be brought back to life by running <a class="el" href="#gae173e8ed91717700471a1dcd06f00f67" title="Initialize context after user parameters have been set.">swr_init()</a>, <a class="el" href="#gae173e8ed91717700471a1dcd06f00f67" title="Initialize context after user parameters have been set.">swr_init()</a> can also be used without <a class="el" href="#gaa4bf1048740dfc08d68aba9f1b4db22e" title="Closes the context so that swr_is_initialized() returns 0.">swr_close()</a>. This function is mainly provided for simplifying the usecase where one tries to support libavresample and libswresample.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">s</td><td>Swr context to be closed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga73ade2cf6934765cf518c6c917b77c76" name="ga73ade2cf6934765cf518c6c917b77c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73ade2cf6934765cf518c6c917b77c76">&#9670;&#160;</a></span>swr_config_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_config_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>swr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> *</td>          <td class="paramname"><span class="paramname"><em>in</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure or reconfigure the <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a> using the information provided by the AVFrames. </p>
<p>The original resampling context is reset even on failure. The function calls <a class="el" href="#gaa4bf1048740dfc08d68aba9f1b4db22e" title="Closes the context so that swr_is_initialized() returns 0.">swr_close()</a> internally if the context is open.</p>
<dl class="section see"><dt>参见</dt><dd><a class="el" href="#gaa4bf1048740dfc08d68aba9f1b4db22e" title="Closes the context so that swr_is_initialized() returns 0.">swr_close()</a>;</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">swr</td><td>audio resample context </td></tr>
    <tr><td class="paramname">output</td><td>output <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a> </td></tr>
    <tr><td class="paramname">input</td><td>input <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 on success, AVERROR on failure. </dd></dl>

</div>
</div>
<a id="gaa5bb6cab830146efa8c760fa66ee582a" name="gaa5bb6cab830146efa8c760fa66ee582a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5bb6cab830146efa8c760fa66ee582a">&#9670;&#160;</a></span>swr_convert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_convert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_d_l__config__ngage_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **</td>          <td class="paramname"><span class="paramname"><em>out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>out_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="_s_d_l__config__ngage_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **</td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>in_count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert audio. </p>
<p>in and in_count can be set to 0 to flush the last few samples out at the end.</p>
<p>If more input is provided than output space, then the input will be buffered. You can avoid this buffering by using <a class="el" href="#ga97a8d5f6abe3bcdfb6072412f17285a4" title="Find an upper bound on the number of samples that the next swr_convert call will output,...">swr_get_out_samples()</a> to retrieve an upper bound on the required number of output samples for the given number of input samples. Conversion will run directly without copying whenever possible.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>allocated Swr context, with parameters set </td></tr>
    <tr><td class="paramname">out</td><td>output buffers, only the first one need be set in case of packed audio </td></tr>
    <tr><td class="paramname">out_count</td><td>amount of space available for output in samples per channel </td></tr>
    <tr><td class="paramname">in</td><td>input buffers, only the first one need to be set in case of packed audio </td></tr>
    <tr><td class="paramname">in_count</td><td>number of input samples available in one channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>number of samples output per channel, negative value on error </dd></dl>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__lswr_gaa5bb6cab830146efa8c760fa66ee582a_icgraph.png" border="0" usemap="#agroup__lswr_gaa5bb6cab830146efa8c760fa66ee582a_icgraph" alt=""/></div>
<map name="agroup__lswr_gaa5bb6cab830146efa8c760fa66ee582a_icgraph" id="agroup__lswr_gaa5bb6cab830146efa8c760fa66ee582a_icgraph">
<area shape="rect" title="Convert audio." alt="" coords="1322,154,1415,181"/>
<area shape="rect" href="class_video_player.html#a2ba33c6ddac0c818dd97209894fb9c09" title="音频解码线程函数" alt="" coords="1100,146,1274,189"/>
<area shape="poly" title=" " alt="" coords="1307,170,1275,170,1275,165,1307,165"/>
<area shape="rect" href="class_video_player.html#a126a100faafb6f0e8a26cc3f0f530f9e" title="错误发生信号" alt="" coords="892,100,1052,126"/>
<area shape="poly" title=" " alt="" coords="1085,145,1027,130,1028,124,1087,139"/>
<area shape="rect" href="class_video_player.html#a9f13805a2a52cdaa95bd96248941e89b" title="构造函数" alt="" coords="5,129,175,156"/>
<area shape="poly" title=" " alt="" coords="1085,190,926,213,836,222,746,225,520,225,370,224,304,217,222,200,165,181,117,159,119,154,167,176,223,194,305,212,370,219,520,220,746,220,835,216,925,208,1084,185"/>
<area shape="rect" href="class_video_player.html#a0ba68b0afb69d9ce73f19e64db5f3636" title="打开 SDL 失败回调" alt="" coords="645,41,844,68"/>
<area shape="poly" title=" " alt="" coords="902,98,843,82,799,71,800,66,844,77,904,93"/>
<area shape="rect" href="class_video_player.html#a5fff8eb62b6d1a16f6b307d4e2bf4f07" title="打开视频文件失败回调" alt="" coords="656,92,833,134"/>
<area shape="poly" title=" " alt="" coords="876,116,834,116,834,110,876,110"/>
<area shape="rect" href="class_ku_gou_app.html#a2e4eb5d5318b90a8bae4d99ea263e8d4" title="初始化播放控件" alt="" coords="656,158,833,185"/>
<area shape="poly" title=" " alt="" coords="904,133,844,149,800,160,799,155,843,144,902,128"/>
<area shape="rect" href="class_video_player.html#aed20f78ebe0b43d0e204e06be360f606" title="配置视频滤镜" alt="" coords="445,41,597,84"/>
<area shape="poly" title=" " alt="" coords="630,61,598,62,598,57,630,56"/>
<area shape="rect" href="class_video_player.html#a3dc80fcbdb85689f912b45f6eb534028" title="视频解码线程函数" alt="" coords="223,41,397,84"/>
<area shape="poly" title=" " alt="" coords="429,65,397,65,397,60,429,60"/>
<area shape="poly" title=" " alt="" coords="405,34,498,16,609,4,668,3,728,5,787,13,844,27,879,41,910,60,958,97,954,101,907,64,876,45,843,32,786,18,728,11,668,8,610,10,499,22,406,40"/>
<area shape="poly" title=" " alt="" coords="236,92,130,131,128,126,234,87"/>
<area shape="poly" title=" " alt="" coords="640,92,597,82,599,77,641,87"/>
<area shape="rect" href="class_video_player.html#a13a43e6d814de94978c515cb084873b1" title="读取视频文件线程函数" alt="" coords="462,108,580,134"/>
<area shape="poly" title=" " alt="" coords="640,119,580,122,580,116,640,114"/>
<area shape="rect" href="class_ku_gou_app.html#afba6e95967cc3eb25fd518f7bde6ec04" title="初始化界面" alt="" coords="460,158,582,185"/>
<area shape="poly" title=" " alt="" coords="641,174,583,174,583,169,641,169"/>
<area shape="rect" href="class_ku_gou_app.html#af7467d6f774dc85cb961cd95c055f622" title="构造函数" alt="" coords="232,158,388,185"/>
<area shape="poly" title=" " alt="" coords="444,174,388,174,388,169,444,169"/>
<area shape="poly" title=" " alt="" coords="346,146,334,139,310,137,288,139,276,144,273,149,278,156,274,159,268,150,272,140,286,134,310,132,335,134,348,141"/>
</map>
</div>

</div>
</div>
<a id="gac482028c01d95580106183aa84b0930c" name="gac482028c01d95580106183aa84b0930c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac482028c01d95580106183aa84b0930c">&#9670;&#160;</a></span>swr_convert_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_convert_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>swr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_v_frame.html">AVFrame</a> *</td>          <td class="paramname"><span class="paramname"><em>output</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> *</td>          <td class="paramname"><span class="paramname"><em>input</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the samples in the input <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a> and write them to the output <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a>. </p>
<p>Input and output AVFrames must have channel_layout, sample_rate and format set.</p>
<p>If the output <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a> does not have the data pointers allocated the nb_samples field will be set using <a class="el" href="group__lavu__frame.html#ga6b1acbfa82c79bf7fd78d868572f0ceb" title="Allocate new buffer(s) for audio or video data.">av_frame_get_buffer()</a> is called to allocate the frame.</p>
<p>The output <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a> can be NULL or have fewer allocated samples than required. In this case, any remaining samples not written to the output will be added to an internal FIFO buffer, to be returned at the next call to this function or to <a class="el" href="#gaa5bb6cab830146efa8c760fa66ee582a" title="Convert audio.">swr_convert()</a>.</p>
<p>If converting sample rate, there may be data remaining in the internal resampling delay buffer. <a class="el" href="#ga5121a5a7890a2d23b72dc871dd0ebb06" title="Gets the delay the next input sample will experience relative to the next output sample.">swr_get_delay()</a> tells the number of remaining samples. To get this data as output, call this function or <a class="el" href="#gaa5bb6cab830146efa8c760fa66ee582a" title="Convert audio.">swr_convert()</a> with NULL input.</p>
<p>If the <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a> configuration does not match the output and input <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a> settings the conversion does not take place and depending on which <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a> is not matching AVERROR_OUTPUT_CHANGED, AVERROR_INPUT_CHANGED or the result of a bitwise-OR of them is returned.</p>
<dl class="section see"><dt>参见</dt><dd>swr_delay() </dd>
<dd>
<a class="el" href="#gaa5bb6cab830146efa8c760fa66ee582a" title="Convert audio.">swr_convert()</a> </dd>
<dd>
<a class="el" href="#ga5121a5a7890a2d23b72dc871dd0ebb06" title="Gets the delay the next input sample will experience relative to the next output sample.">swr_get_delay()</a></dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">swr</td><td>audio resample context </td></tr>
    <tr><td class="paramname">output</td><td>output <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a> </td></tr>
    <tr><td class="paramname">input</td><td>input <a class="el" href="struct_a_v_frame.html" title="This structure describes decoded (raw) audio or video data.">AVFrame</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0 on success, AVERROR on failure or nonmatching configuration. </dd></dl>

</div>
</div>
<a id="ga43d7ba4507891fc25aacbbea5cdfb065" name="ga43d7ba4507891fc25aacbbea5cdfb065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43d7ba4507891fc25aacbbea5cdfb065">&#9670;&#160;</a></span>swr_drop_output()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_drop_output </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drops the specified number of output samples. </p>
<p>This function, along with <a class="el" href="#ga4733ed4779ed3e30379de2a6ef8de837" title="Injects the specified number of silence samples.">swr_inject_silence()</a>, is called by <a class="el" href="#gaad9811626c6c01a241f6bf46aff27333" title="Convert the next timestamp from input to output timestamps are in 1/(in_sample_rate * out_sample_rate...">swr_next_pts()</a> if needed for "hard" compensation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>allocated Swr context </td></tr>
    <tr><td class="paramname">count</td><td>number of samples to be dropped</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>&gt;= 0 on success, or a negative AVERROR code on failure </dd></dl>

</div>
</div>
<a id="ga818f7d78b1ad7d8d5b70de374b668c34" name="ga818f7d78b1ad7d8d5b70de374b668c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga818f7d78b1ad7d8d5b70de374b668c34">&#9670;&#160;</a></span>swr_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a> swr_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> **</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the given <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a> and set the pointer to NULL. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>a pointer to a pointer to Swr context </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__lswr_ga818f7d78b1ad7d8d5b70de374b668c34_icgraph.png" border="0" usemap="#agroup__lswr_ga818f7d78b1ad7d8d5b70de374b668c34_icgraph" alt=""/></div>
<map name="agroup__lswr_ga818f7d78b1ad7d8d5b70de374b668c34_icgraph" id="agroup__lswr_ga818f7d78b1ad7d8d5b70de374b668c34_icgraph">
<area shape="rect" title="Free the given SwrContext and set the pointer to NULL." alt="" coords="171,5,242,32"/>
<area shape="rect" href="class_video_player.html#a13a43e6d814de94978c515cb084873b1" title="读取视频文件线程函数" alt="" coords="5,5,123,32"/>
<area shape="poly" title=" " alt="" coords="155,21,123,21,123,16,155,16"/>
</map>
</div>

</div>
</div>
<a id="gaabeac14d6aa684de193c65b6e34c4901" name="gaabeac14d6aa684de193c65b6e34c4901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabeac14d6aa684de193c65b6e34c4901">&#9670;&#160;</a></span>swr_get_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_a_v_class.html">AVClass</a> * swr_get_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="struct_a_v_class.html" title="Describe the class of an AVClass context structure.">AVClass</a> for <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a>. </p>
<p>It can be used in combination with AV_OPT_SEARCH_FAKE_OBJ for examining options.</p>
<dl class="section see"><dt>参见</dt><dd><a class="el" href="group__avoptions.html#ga9ad3a0b722a9815f15e3df512290d618" title="Look for an option in an object.">av_opt_find()</a>. </dd></dl>
<dl class="section return"><dt>返回</dt><dd>the <a class="el" href="struct_a_v_class.html" title="Describe the class of an AVClass context structure.">AVClass</a> of <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863" title="The libswresample context.">SwrContext</a> </dd></dl>

</div>
</div>
<a id="ga5121a5a7890a2d23b72dc871dd0ebb06" name="ga5121a5a7890a2d23b72dc871dd0ebb06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5121a5a7890a2d23b72dc871dd0ebb06">&#9670;&#160;</a></span>swr_get_delay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a> swr_get_delay </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a></td>          <td class="paramname"><span class="paramname"><em>base</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the delay the next input sample will experience relative to the next output sample. </p>
<p>Swresample can buffer data if more input has been provided than available output space, also converting between sample rates needs a delay. This function returns the sum of all such delays. The exact delay is not necessarily an integer value in either input or output sample rate. Especially when downsampling by a large value, the output sample rate may be a poor choice to represent the delay, similarly for upsampling and the input sample rate.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>swr context </td></tr>
    <tr><td class="paramname">base</td><td>timebase in which the returned delay will be: <ul>
<li>if it's set to 1 the returned delay is in seconds </li>
<li>if it's set to 1000 the returned delay is in milliseconds </li>
<li>if it's set to the input sample rate then the returned delay is in input samples </li>
<li>if it's set to the output sample rate then the returned delay is in output samples </li>
<li>if it's the least common multiple of in_sample_rate and out_sample_rate then an exact rounding-free delay will be returned </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>the delay in 1 / <code>base</code> units. </dd></dl>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__lswr_ga5121a5a7890a2d23b72dc871dd0ebb06_icgraph.png" border="0" usemap="#agroup__lswr_ga5121a5a7890a2d23b72dc871dd0ebb06_icgraph" alt=""/></div>
<map name="agroup__lswr_ga5121a5a7890a2d23b72dc871dd0ebb06_icgraph" id="agroup__lswr_ga5121a5a7890a2d23b72dc871dd0ebb06_icgraph">
<area shape="rect" title="Gets the delay the next input sample will experience relative to the next output sample." alt="" coords="1322,154,1428,181"/>
<area shape="rect" href="class_video_player.html#a2ba33c6ddac0c818dd97209894fb9c09" title="音频解码线程函数" alt="" coords="1100,146,1274,189"/>
<area shape="poly" title=" " alt="" coords="1307,170,1275,170,1275,165,1307,165"/>
<area shape="rect" href="class_video_player.html#a126a100faafb6f0e8a26cc3f0f530f9e" title="错误发生信号" alt="" coords="892,100,1052,126"/>
<area shape="poly" title=" " alt="" coords="1085,145,1027,130,1028,124,1087,139"/>
<area shape="rect" href="class_video_player.html#a9f13805a2a52cdaa95bd96248941e89b" title="构造函数" alt="" coords="5,129,175,156"/>
<area shape="poly" title=" " alt="" coords="1085,190,926,213,836,222,746,225,520,225,370,224,304,217,222,200,165,181,117,159,119,154,167,176,223,194,305,212,370,219,520,220,746,220,835,216,925,208,1084,185"/>
<area shape="rect" href="class_video_player.html#a0ba68b0afb69d9ce73f19e64db5f3636" title="打开 SDL 失败回调" alt="" coords="645,41,844,68"/>
<area shape="poly" title=" " alt="" coords="902,98,843,82,799,71,800,66,844,77,904,93"/>
<area shape="rect" href="class_video_player.html#a5fff8eb62b6d1a16f6b307d4e2bf4f07" title="打开视频文件失败回调" alt="" coords="656,92,833,134"/>
<area shape="poly" title=" " alt="" coords="876,116,834,116,834,110,876,110"/>
<area shape="rect" href="class_ku_gou_app.html#a2e4eb5d5318b90a8bae4d99ea263e8d4" title="初始化播放控件" alt="" coords="656,158,833,185"/>
<area shape="poly" title=" " alt="" coords="904,133,844,149,800,160,799,155,843,144,902,128"/>
<area shape="rect" href="class_video_player.html#aed20f78ebe0b43d0e204e06be360f606" title="配置视频滤镜" alt="" coords="445,41,597,84"/>
<area shape="poly" title=" " alt="" coords="630,61,598,62,598,57,630,56"/>
<area shape="rect" href="class_video_player.html#a3dc80fcbdb85689f912b45f6eb534028" title="视频解码线程函数" alt="" coords="223,41,397,84"/>
<area shape="poly" title=" " alt="" coords="429,65,397,65,397,60,429,60"/>
<area shape="poly" title=" " alt="" coords="405,34,498,16,609,4,668,3,728,5,787,13,844,27,879,41,910,60,958,97,954,101,907,64,876,45,843,32,786,18,728,11,668,8,610,10,499,22,406,40"/>
<area shape="poly" title=" " alt="" coords="236,92,130,131,128,126,234,87"/>
<area shape="poly" title=" " alt="" coords="640,92,597,82,599,77,641,87"/>
<area shape="rect" href="class_video_player.html#a13a43e6d814de94978c515cb084873b1" title="读取视频文件线程函数" alt="" coords="462,108,580,134"/>
<area shape="poly" title=" " alt="" coords="640,119,580,122,580,116,640,114"/>
<area shape="rect" href="class_ku_gou_app.html#afba6e95967cc3eb25fd518f7bde6ec04" title="初始化界面" alt="" coords="460,158,582,185"/>
<area shape="poly" title=" " alt="" coords="641,174,583,174,583,169,641,169"/>
<area shape="rect" href="class_ku_gou_app.html#af7467d6f774dc85cb961cd95c055f622" title="构造函数" alt="" coords="232,158,388,185"/>
<area shape="poly" title=" " alt="" coords="444,174,388,174,388,169,444,169"/>
<area shape="poly" title=" " alt="" coords="346,146,334,139,310,137,288,139,276,144,273,149,278,156,274,159,268,150,272,140,286,134,310,132,335,134,348,141"/>
</map>
</div>

</div>
</div>
<a id="ga97a8d5f6abe3bcdfb6072412f17285a4" name="ga97a8d5f6abe3bcdfb6072412f17285a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97a8d5f6abe3bcdfb6072412f17285a4">&#9670;&#160;</a></span>swr_get_out_samples()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_get_out_samples </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>in_samples</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find an upper bound on the number of samples that the next swr_convert call will output, if called with in_samples of input samples. </p>
<p>This depends on the internal state, and anything changing the internal state (like further <a class="el" href="#gaa5bb6cab830146efa8c760fa66ee582a" title="Convert audio.">swr_convert()</a> calls) will may change the number of samples <a class="el" href="#ga97a8d5f6abe3bcdfb6072412f17285a4" title="Find an upper bound on the number of samples that the next swr_convert call will output,...">swr_get_out_samples()</a> returns for the same number of input samples.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_samples</td><td>number of input samples. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>any call to <a class="el" href="#ga4733ed4779ed3e30379de2a6ef8de837" title="Injects the specified number of silence samples.">swr_inject_silence()</a>, <a class="el" href="#gaa5bb6cab830146efa8c760fa66ee582a" title="Convert audio.">swr_convert()</a>, <a class="el" href="#gaad9811626c6c01a241f6bf46aff27333" title="Convert the next timestamp from input to output timestamps are in 1/(in_sample_rate * out_sample_rate...">swr_next_pts()</a> or <a class="el" href="#gab7f21690522b85d7757e13fa9853d4d8" title="Activate resampling compensation (&quot;soft&quot; compensation).">swr_set_compensation()</a> invalidates this limit </dd>
<dd>
it is recommended to pass the correct available buffer size to all functions like <a class="el" href="#gaa5bb6cab830146efa8c760fa66ee582a" title="Convert audio.">swr_convert()</a> even if <a class="el" href="#ga97a8d5f6abe3bcdfb6072412f17285a4" title="Find an upper bound on the number of samples that the next swr_convert call will output,...">swr_get_out_samples()</a> indicates that less would be used. </dd></dl>
<dl class="section return"><dt>返回</dt><dd>an upper bound on the number of samples that the next swr_convert will output or a negative value to indicate an error </dd></dl>

</div>
</div>
<a id="gae173e8ed91717700471a1dcd06f00f67" name="gae173e8ed91717700471a1dcd06f00f67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae173e8ed91717700471a1dcd06f00f67">&#9670;&#160;</a></span>swr_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize context after user parameters have been set. </p>
<dl class="section note"><dt>注解</dt><dd>The context must be configured using the <a class="el" href="struct_a_v_option.html" title="AVOption">AVOption</a> API.</dd></dl>
<dl class="section see"><dt>参见</dt><dd><a class="el" href="group__opt__set__funcs.html#ga3adf7185c21cc080890a5ec02c2e56b2">av_opt_set_int()</a> </dd>
<dd>
<a class="el" href="group__avoptions.html#gaf1a88e8f152d7835f111b1ef8813fb2e" title="Set all the options from a given dictionary on an object.">av_opt_set_dict()</a></dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">s</td><td>Swr context to initialize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>AVERROR error code in case of failure. </dd></dl>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__lswr_gae173e8ed91717700471a1dcd06f00f67_icgraph.png" border="0" usemap="#agroup__lswr_gae173e8ed91717700471a1dcd06f00f67_icgraph" alt=""/></div>
<map name="agroup__lswr_gae173e8ed91717700471a1dcd06f00f67_icgraph" id="agroup__lswr_gae173e8ed91717700471a1dcd06f00f67_icgraph">
<area shape="rect" title="Initialize context after user parameters have been set." alt="" coords="171,5,237,32"/>
<area shape="rect" href="class_video_player.html#a13a43e6d814de94978c515cb084873b1" title="读取视频文件线程函数" alt="" coords="5,5,123,32"/>
<area shape="poly" title=" " alt="" coords="155,21,123,21,123,16,155,16"/>
</map>
</div>

</div>
</div>
<a id="ga4733ed4779ed3e30379de2a6ef8de837" name="ga4733ed4779ed3e30379de2a6ef8de837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4733ed4779ed3e30379de2a6ef8de837">&#9670;&#160;</a></span>swr_inject_silence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_inject_silence </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Injects the specified number of silence samples. </p>
<p>This function, along with <a class="el" href="#ga43d7ba4507891fc25aacbbea5cdfb065" title="Drops the specified number of output samples.">swr_drop_output()</a>, is called by <a class="el" href="#gaad9811626c6c01a241f6bf46aff27333" title="Convert the next timestamp from input to output timestamps are in 1/(in_sample_rate * out_sample_rate...">swr_next_pts()</a> if needed for "hard" compensation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>allocated Swr context </td></tr>
    <tr><td class="paramname">count</td><td>number of samples to be dropped</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>&gt;= 0 on success, or a negative AVERROR code on failure </dd></dl>

</div>
</div>
<a id="gab11b02705e97404b6d74b18b2fcfdfcf" name="gab11b02705e97404b6d74b18b2fcfdfcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab11b02705e97404b6d74b18b2fcfdfcf">&#9670;&#160;</a></span>swr_is_initialized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_is_initialized </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether an swr context has been initialized or not. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>Swr context to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd><a class="el" href="#gae173e8ed91717700471a1dcd06f00f67" title="Initialize context after user parameters have been set.">swr_init()</a> </dd></dl>
<dl class="section return"><dt>返回</dt><dd>positive if it has been initialized, 0 if not initialized </dd></dl>

</div>
</div>
<a id="gaad9811626c6c01a241f6bf46aff27333" name="gaad9811626c6c01a241f6bf46aff27333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad9811626c6c01a241f6bf46aff27333">&#9670;&#160;</a></span>swr_next_pts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a> swr_next_pts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_d_l__config__ngage_8h.html#adec1df1b8b51cb32b77e5b86fff46471">int64_t</a></td>          <td class="paramname"><span class="paramname"><em>pts</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the next timestamp from input to output timestamps are in 1/(in_sample_rate * out_sample_rate) units. </p>
<dl class="section note"><dt>注解</dt><dd>There are 2 slightly differently behaving modes. <ul>
<li>When automatic timestamp compensation is not used, (min_compensation &gt;= FLT_MAX) in this case timestamps will be passed through with delays compensated </li>
<li>When automatic timestamp compensation is used, (min_compensation &lt; FLT_MAX) in this case the output timestamps will match output sample numbers. See ffmpeg-resampler(1) for the two modes of compensation.</li>
</ul>
</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s[in]</td><td>initialized Swr context </td></tr>
    <tr><td class="paramname">pts[in]</td><td>timestamp for the next input sample, INT64_MIN if unknown </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd><a class="el" href="#gab7f21690522b85d7757e13fa9853d4d8" title="Activate resampling compensation (&quot;soft&quot; compensation).">swr_set_compensation()</a>, <a class="el" href="#ga43d7ba4507891fc25aacbbea5cdfb065" title="Drops the specified number of output samples.">swr_drop_output()</a>, and <a class="el" href="#ga4733ed4779ed3e30379de2a6ef8de837" title="Injects the specified number of silence samples.">swr_inject_silence()</a> are function used internally for timestamp compensation. </dd></dl>
<dl class="section return"><dt>返回</dt><dd>the output timestamp for the next output sample </dd></dl>

</div>
</div>
<a id="ga1b528050b5f5b704aecbfbc257a17ef0" name="ga1b528050b5f5b704aecbfbc257a17ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b528050b5f5b704aecbfbc257a17ef0">&#9670;&#160;</a></span>swr_set_channel_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_set_channel_mapping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int *</td>          <td class="paramname"><span class="paramname"><em>channel_map</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a customized input channel mapping. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">s</td><td>allocated Swr context, not yet initialized </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">channel_map</td><td>customized input channel mapping (array of channel indexes, -1 for a muted channel) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>&gt;= 0 on success, or AVERROR error code in case of failure. </dd></dl>

</div>
</div>
<a id="gab7f21690522b85d7757e13fa9853d4d8" name="gab7f21690522b85d7757e13fa9853d4d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7f21690522b85d7757e13fa9853d4d8">&#9670;&#160;</a></span>swr_set_compensation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_set_compensation </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sample_delta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>compensation_distance</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate resampling compensation ("soft" compensation). </p>
<p>This function is internally called when needed in <a class="el" href="#gaad9811626c6c01a241f6bf46aff27333" title="Convert the next timestamp from input to output timestamps are in 1/(in_sample_rate * out_sample_rate...">swr_next_pts()</a>.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">s</td><td>allocated Swr context. If it is not initialized, or SWR_FLAG_RESAMPLE is not set, <a class="el" href="#gae173e8ed91717700471a1dcd06f00f67" title="Initialize context after user parameters have been set.">swr_init()</a> is called with the flag set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sample_delta</td><td>delta in PTS per sample </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">compensation_distance</td><td>number of samples to compensate for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>&gt;= 0 on success, AVERROR error codes if: <ul>
<li><code>s</code> is NULL, </li>
<li><code>compensation_distance</code> is less than 0, </li>
<li><code>compensation_distance</code> is 0 but sample_delta is not, </li>
<li>compensation unsupported by resampler, or </li>
<li><a class="el" href="#gae173e8ed91717700471a1dcd06f00f67" title="Initialize context after user parameters have been set.">swr_init()</a> fails when called. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaf9064d65b1e654dc78f7d6bcd2e8c747" name="gaf9064d65b1e654dc78f7d6bcd2e8c747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9064d65b1e654dc78f7d6bcd2e8c747">&#9670;&#160;</a></span>swr_set_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swr_set_matrix </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#ga4aa775b7fba31d2c8dc14c7b7e282863">SwrContext</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> double *</td>          <td class="paramname"><span class="paramname"><em>matrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>stride</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a customized remix matrix. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>allocated Swr context, not yet initialized </td></tr>
    <tr><td class="paramname">matrix</td><td>remix coefficients; matrix[i + stride * o] is the weight of input channel i in output channel o </td></tr>
    <tr><td class="paramname">stride</td><td>offset between lines of the matrix </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>&gt;= 0 on success, or AVERROR error code in case of failure. </dd></dl>

</div>
</div>
<a id="gacb05ad2022842645a473d46212461be7" name="gacb05ad2022842645a473d46212461be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb05ad2022842645a473d46212461be7">&#9670;&#160;</a></span>swresample_configuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * swresample_configuration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the swr build-time configuration. </p>
<dl class="section return"><dt>返回</dt><dd>the build-time <code></code>./configure flags </dd></dl>

</div>
</div>
<a id="ga138666c7d154a3b3a10cfe490b752266" name="ga138666c7d154a3b3a10cfe490b752266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga138666c7d154a3b3a10cfe490b752266">&#9670;&#160;</a></span>swresample_license()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * swresample_license </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the swr license. </p>
<dl class="section return"><dt>返回</dt><dd>the license of libswresample, determined at build-time </dd></dl>

</div>
</div>
<a id="gaed39c2153a1e26b4ef656ec8c765a2e3" name="gaed39c2153a1e26b4ef656ec8c765a2e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed39c2153a1e26b4ef656ec8c765a2e3">&#9670;&#160;</a></span>swresample_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned swresample_version </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the <a class="el" href="tools_2ffmpeg_2win64_2include_2libswresample_2version_8h.html#a6172452a08ba6386e2265bd34769982b">LIBSWRESAMPLE_VERSION_INT</a> constant. </p>
<p>This is useful to check if the build-time libswresample has the same version as the run-time one.</p>
<dl class="section return"><dt>返回</dt><dd>the unsigned int-typed version </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
